{"mappings":"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","sources":["script.js"],"sourcesContent":["'use strict';\n\n// Data\nconst account1 = {\n  owner: 'Armando Selimi',\n  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],\n  interestRate: 1.2, // %\n  pin: 1111,\n};\n\nconst account2 = {\n  owner: 'Jonas Schmedtmann',\n  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],\n  interestRate: 1.5,\n  pin: 2222,\n};\n\nconst account3 = {\n  owner: 'Steven Thomas Williams',\n  movements: [200, -200, 340, -300, -20, 50, 400, -460],\n  interestRate: 0.7,\n  pin: 3333,\n};\n\nconst account4 = {\n  owner: 'Sarah Smith',\n  movements: [430, 1000, 700, 50, 90],\n  interestRate: 1,\n  pin: 4444,\n};\n\nconst accounts = [account1, account2, account3, account4];\n\n// Elements\nconst labelWelcome = document.querySelector('.welcome');\nconst labelDate = document.querySelector('.date');\nconst labelBalance = document.querySelector('.balance__value');\nconst labelSumIn = document.querySelector('.summary__value--in');\nconst labelSumOut = document.querySelector('.summary__value--out');\nconst labelSumInterest = document.querySelector('.summary__value--interest');\nconst labelTimer = document.querySelector('.timer');\n\nconst containerApp = document.querySelector('.app');\nconst containerMovements = document.querySelector('.movements');\n\nconst btnLogin = document.querySelector('.login__btn');\nconst btnTransfer = document.querySelector('.form__btn--transfer');\nconst btnLoan = document.querySelector('.form__btn--loan');\nconst btnClose = document.querySelector('.form__btn--close');\nconst btnSort = document.querySelector('.btn--sort');\n\nconst inputLoginUsername = document.querySelector('.login__input--user');\nconst inputLoginPin = document.querySelector('.login__input--pin');\nconst inputTransferTo = document.querySelector('.form__input--to');\nconst inputTransferAmount = document.querySelector('.form__input--amount');\nconst inputLoanAmount = document.querySelector('.form__input--loan-amount');\nconst inputCloseUsername = document.querySelector('.form__input--user');\nconst inputClosePin = document.querySelector('.form__input--pin');\n\n// Functions\n\nconst displayMovements = function (movements, sort = false) {\n  containerMovements.innerHTML = '';\n\n  const movs = sort ? movements.slice().sort((a, b) => a - b) : movements;\n\n  movs.forEach(function (mov, i) {\n    const type = mov > 0 ? 'deposit' : 'withdrawal';\n\n    const html = `\n      <div class=\"movements__row\">\n        <div class=\"movements__type movements__type--${type}\">${\n      i + 1\n    } ${type}</div>\n        <div class=\"movements__value\">${mov}€</div>\n      </div>\n    `;\n\n    containerMovements.insertAdjacentHTML('afterbegin', html);\n  });\n};\n\nconst calcDisplayBalance = function (acc) {\n  acc.balance = acc.movements.reduce((acc, mov) => acc + mov, 0);\n  labelBalance.textContent = `${acc.balance}€`;\n};\n\nconst calcDisplaySummary = function (acc) {\n  const incomes = acc.movements\n    .filter(mov => mov > 0)\n    .reduce((acc, mov) => acc + mov, 0);\n  labelSumIn.textContent = `${incomes}€`;\n\n  const out = acc.movements\n    .filter(mov => mov < 0)\n    .reduce((acc, mov) => acc + mov, 0);\n  labelSumOut.textContent = `${Math.abs(out)}€`;\n\n  const interest = acc.movements\n    .filter(mov => mov > 0)\n    .map(deposit => (deposit * acc.interestRate) / 100)\n    .filter((int, i, arr) => {\n      // console.log(arr);\n      return int >= 1;\n    })\n    .reduce((acc, int) => acc + int, 0);\n  labelSumInterest.textContent = `${interest}€`;\n};\n\nconst createUsernames = function (accs) {\n  accs.forEach(function (acc) {\n    acc.username = acc.owner\n      .toLowerCase()\n      .split(' ')\n      .map(name => name[0])\n      .join('');\n  });\n};\ncreateUsernames(accounts);\n\nconst updateUI = function (acc) {\n  // Display movements\n  displayMovements(acc.movements);\n\n  // Display balance\n  calcDisplayBalance(acc);\n\n  // Display summary\n  calcDisplaySummary(acc);\n};\n\n///////////////////////////////////////\n// Event handlers\nlet currentAccount;\n\nbtnLogin.addEventListener('click', function (e) {\n  // Prevent form from submitting\n  e.preventDefault();\n\n  currentAccount = accounts.find(\n    acc => acc.username === inputLoginUsername.value\n  );\n  console.log(currentAccount);\n\n  if (currentAccount?.pin === Number(inputLoginPin.value)) {\n    // Display UI and message\n    labelWelcome.textContent = `Welcome back, ${\n      currentAccount.owner.split(' ')[0]\n    }`;\n    containerApp.style.opacity = 100;\n\n    // Clear input fields\n    inputLoginUsername.value = inputLoginPin.value = '';\n    inputLoginPin.blur();\n\n    // Update UI\n    updateUI(currentAccount);\n  }\n});\n\nbtnTransfer.addEventListener('click', function (e) {\n  e.preventDefault();\n  const amount = Number(inputTransferAmount.value);\n  const receiverAcc = accounts.find(\n    acc => acc.username === inputTransferTo.value\n  );\n  inputTransferAmount.value = inputTransferTo.value = '';\n\n  if (\n    amount > 0 &&\n    receiverAcc &&\n    currentAccount.balance >= amount &&\n    receiverAcc?.username !== currentAccount.username\n  ) {\n    // Doing the transfer\n    currentAccount.movements.push(-amount);\n    receiverAcc.movements.push(amount);\n\n    // Update UI\n    updateUI(currentAccount);\n  }\n});\n\nbtnLoan.addEventListener('click', function (e) {\n  e.preventDefault();\n\n  const amount = Number(inputLoanAmount.value);\n\n  if (amount > 0 && currentAccount.movements.some(mov => mov >= amount * 0.1)) {\n    // Add movement\n    currentAccount.movements.push(amount);\n\n    // Update UI\n    updateUI(currentAccount);\n  }\n  inputLoanAmount.value = '';\n});\n\nbtnClose.addEventListener('click', function (e) {\n  e.preventDefault();\n\n  if (\n    inputCloseUsername.value === currentAccount.username &&\n    Number(inputClosePin.value) === currentAccount.pin\n  ) {\n    const index = accounts.findIndex(\n      acc => acc.username === currentAccount.username\n    );\n    console.log(index);\n    // .indexOf(23)\n\n    // Delete account\n    accounts.splice(index, 1);\n\n    // Hide UI\n    containerApp.style.opacity = 0;\n  }\n\n  inputCloseUsername.value = inputClosePin.value = '';\n});\n\nlet sorted = false;\nbtnSort.addEventListener('click', function (e) {\n  e.preventDefault();\n  displayMovements(currentAccount.movements, !sorted);\n  sorted = !sorted;\n});\n"],"names":["account1","owner","movements","interestRate","pin","account2","account3","account4","accounts","labelWelcome","document","querySelector","labelDate","labelBalance","labelSumIn","labelSumOut","labelSumInterest","labelTimer","containerApp","containerMovements","btnLogin","btnTransfer","btnLoan","btnClose","btnSort","inputLoginUsername","inputLoginPin","inputTransferTo","inputTransferAmount","inputLoanAmount","inputCloseUsername","inputClosePin","displayMovements","sort","innerHTML","slice","a","b","forEach","mov","i","type","html","insertAdjacentHTML","calcDisplayBalance","acc","balance","reduce","textContent","calcDisplaySummary","incomes","filter","out","Math","abs","interest","map","deposit","int","arr","createUsernames","accs","username","toLowerCase","split","name","join","updateUI","currentAccount","addEventListener","e","preventDefault","find","value","console","log","Number","style","opacity","blur","amount","receiverAcc","push","some","index","findIndex","splice","sorted"],"version":3,"file":"index.18f793f6.js.map"}